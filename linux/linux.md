# Linux

### 目录

- /bin
  - 存放直接可以执行的常用命令
  - /bin本身是一个文件夹的链接, 它实际目标是/usr/bin
  - 链接相当于windows系统中的快捷方式
- /sbin
  - system bin的缩写,系统级的二进制命令, 一般存放超级用户能够使用系统管理工具
  - /sbin-->/usr/sbin
- /lib /lib64
  - 当前的库目录, 系统和应用程序所需要的共享库文件, 类似于windows中的dll, 动态链接库文件
  - /lib-->/usr/lib /lib64-->/usr/lib64
- /usr
  - 用户所有的应用程序和所需要的文件和数据
- /boot
- /dev
  - 设备目录, 负责管理当前所以的设备
  - 对于当前所有的硬件设备都有对应的映射
  - linux把所有的设备都当做文件, 对应linux一切皆文件的设计思想
- /etc
  - 系统管理所需要的配置文件
- /home
  - linux系统里面,每一个用户都有一个自己的主目录,
  - /home目录下只有普通用户的文件夹, 而没有root用户的文件夹
- /root
  - 用于专门存放root超级管理员的主目录
- /opt
  - optional可选目录, 给第三方软件包专门准备的存放目录
- /media
  - 可以识别一些可移动媒体设备
  - U盘和光驱默认挂载到此目录
- /mnt
  - 和media类似,也是用于挂载目录
- /proc
  - process进程目录, 系统内核中进程的映射
- /run
  - 存放当前系统中所有运行起来的执行信息
- /srv
  - service和系统服务相关的内容
- /sys
  - 存放系统硬件相关的文件
- /tmp
  - 临时目录
- /usr
  - 存放应用程序和用户相关的数据
- /var
  - 可变目录, 用于存放经常修改的数据, 如log日志

### 常用命令

- 命令格式
  - 命令 [-选项] [参数]
  - 例: ls -la /etc
  - 个别命令不遵从此格式
  - 当有多个选项时, 可以写在一起
  - 简化选项与完整选项-a/--al

#### 文件查看命令

- ls
  - -a
    - all的缩写, 用于显示包含隐藏文件的全部文件, linux中默认以`.`开头的文件是隐藏文件
  - -l
    - `long`的所以写, 显示文件的详细信息
    - 详细信息每列的含义
      1.  [权限](#权限)
      2. 引用计数
      3. 所有者: 创建文件的人, 所有者的身份可以变化, 所有者只有一个
      4. 所属组: 定义一组相同的用户, 给相同的用户一组特殊的权限, 所属组只有一个
         - 不在所有者和所属组中的人被称为其他人
      5. 文件大小: 默认使用字节可以通过 -h选项调节显示单位
      6. 文件最后一次修改时间, linux中没有专门存储文件的创建时间
      7. 文件名
    - -lh `human`人性化显示, 在现实文件大小时可以自动选择适合的单位显示
    - -d `directory`显示目录本身的信息,而不是目录下的文件信息
    - -i 每个文件都有自己的索引号, 系统通过这个索引号来查询文件

#### 文件处理命令

- mkdir 创建目录命令
  - -p 递归创建
- cd 切换目录
  - `.`当前目录
  - `..`上一级目录
- pwd 显示当前所在目录
- rmdir 
  - rmdir [目录名]
  - 删除空目录
- cp
  - 复制命令
  - cp [source] [target]
  - -r 复制目录
  - -p `preserve`保留文件属性, 如文件最后修改时间
- mv
  - 剪切或更名
- rm
  - 删除命令
  - -r 删除目录
  - -f 强制执行
- touch
  - 创建文件
  - touch [文件名]
  - 创建带有空格的文件需要将整个文件名使用`""`括起来
  - linux中的文件名可以使用除`/`外大部分的特殊符号
- cat
  - 浏览文件内容
  - cat [文件路径]
  - -n `number`显示行号
  - cat不适合浏览比较长的文件
- tail
  - 查看文件末尾的几行
  - tail [文件]
  - -n [number] 查看行数, 默认是10
  - -f 动态显示内容更新
- ln
  - 链接命令
  - ln -s [source] [target]
  - -s 创建软链接

#### 权限管理

- chmod
  - 修改文件的权限 change the permissions mode of a file
  - 文件的权限只能由文件的所有者和管理员root进行更改
  - chmod [{ugoa}{+-=}{rwx}] [目录或文件]
  - -R 递归修改
  - u所拥有人 g所属组 o其他人 a所有人
  - +增减权限 -删除权限 =覆盖更新权限
  - r读 w写 x执行
  - 数字表示权限r=4 w=2 x=1
  - 例:chmod -R 755 /opt/java/bin 给/opt/java/bin目录下的所有文件, 所拥有人读写执行, 所属组读执行, 其他人读执行
- chown
  - 更改文件的所有者 change owner
  - 只有管理员root才能更改文件的所有者
  - chown [用户] [文件或目录]


### 权限

- `-`是二进制文件 `d`目录 `l`是软链接文件
- r读 w写 x执行
- u所有者 g所属组 o其他人
- 权限分为rwx三种,如果用户没有对应位置的权限则使用`-`占位
- 例: `-rwx-r--`此符号代表改文件是二进制文件, 所有者有读写执行的权限, 所属组有写权限, 其他人无任何权限

- 添加系统用户
  - useradd [用户名]
- 设置用户密码
  - passwd [用户名]
- 切换用户
  - su [用户名]

| 代表符号 |   权限   |   对文件的含义   |         对目录的含义         |
| :------: | :------: | :--------------: | :--------------------------: |
|    r     |  读权限  | 可以查看文件内容 |     可以列出目录中的内容     |
|    w     |  写权限  | 可以修改文件内容 | 可以在目录汇中创建, 删除文件 |
|    x     | 执行权限 |   可以执行文件   |         可以进入目录         |

- 对于目录来说, rx权限一般是绑定的, 因为用户不可能能进入目录却不能查看目录, 同样能进入目录却无法查看目录中的内容也是很奇怪的
- 经测试, 只要用户有文件夹的x权限, 就可以对文件夹内的文件进行操作, 没有r权限也可以摸黑去操作
  用户只有文件夹的读权限, 可以查看文件夹内的文件列表,但是不能查看文件夹内的文件夹, 也不能执行任何操作
  用户没有目录的执行权限,即使有写权限也无法删除目录中的文件
